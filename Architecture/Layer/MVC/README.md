# MVC 架构

MVC 是一种非常常见且常用的分层架构。

项目大致以表示层、业务层、数据访问层构成。每一层都有着各自的职责，其中最关键的当属表示层，因为它相当于就是直接与用户的浏览器打交道的一层，并且所有的请求都会经过它进行解析，然后再告知业务层进行处理，任何页面的返回和数据填充也全靠表示层来完成，因此它实际上是整个三层架构中最关键的一层，而在之前需要编写了大量的Servlet (也就是表示层实现)来处理来自浏览器的各种请求，但是发现，仅仅是几个很小的功能，以及几个很基本的页面，都要编写将近十个Servlet，如果是更加大型的网站系统，比如淘宝、B站，光是一个页面中可能就包含了几十甚至上百个功能，想想那样的话写起来得多恐怖。

![img](https://cdn.jsdelivr.net/gh/letengzz/tc2@main/img/Java/202309181433546.jpg)

MVC对三者之间进行解耦，实现各干各的，更加精细地划分对应的职责。最后再将View和Model进行渲染，得到最终的页面并返回给前端。

MVC架构 主要包括：

- M：业务模型、对象层 (**M**odel)，封装到 domain 里，用于封装数据传递的实体类。
- V：用户界面、展示层 (**V**iew)：一般指的是前端页面
- C：控制器、控制层 (**C**ontroller)：对外提供接口实现类，相当于Servlet的基本功能，处理请求，返回响应。

**注意**：DAO：算是单独拿出来用户处理数据库操作的层

![img](https://cdn.jsdelivr.net/gh/letengzz/tc2@main/img/Java/202309181433206.jpg)

在 MVC 的分层架构下，编程3步的所需各类对象、方法、接口，都分配到 MVC 的各个层次中去。

因为这样分层以后，就可以很清晰明了的知道各个层都在做什么内容，也更加方便后续的维护和迭代。

![image-20240421230908118](https://cdn.jsdelivr.net/gh/letengzz/tc2@main/img202404212309303.png)

**调用流程**：各个模块在调用时的串联关系

- 以用户发起 HTTP 请求开始，Controller 在接收到请求后，调用由 Spring 注入到类里的 Service 方法，进入 Service 方法后有些逻辑会走数据库，有些逻辑是直接内部自己处理后就直接返回给 Controller 了。最后由 Controller 封装结果返回给 HTTP 响应。
- 各个对象在这些请求间的一个作用，如；请求对象、库表对象、返回对象。

![image-20240421231155808](https://cdn.jsdelivr.net/gh/letengzz/tc2@main/img202404212311459.png)
